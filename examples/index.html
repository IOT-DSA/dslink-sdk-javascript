<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
    <script src="../dist/dslink.browser.js"></script>
    <script>
        window.onload = function() {
            console.log("Hello");
            this.link = new DS.LinkProvider("http://127.0.0.1:8080/conn", "browser-js-", {
                defaultNodes: {
                    one: {
                        "$name": "Test",
                        "$type": "bool",
                        "?value": true
                    }
                }
            });

            this.link.init().then(() => {
              console.log("Hello #1");
              return this.link.connect();
            }).then(() => {
              console.log("Hello #2");
              return this.link.onRequesterReady;
            }).then(() => {
              console.log("Hello #3");
            });

            console.log(this.link);
        }
    </script>
</body>
</html>
